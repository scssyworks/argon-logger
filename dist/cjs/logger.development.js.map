{"version":3,"file":"logger.development.js","sources":["../../node_modules/@babel/runtime/helpers/esm/typeof.js","../../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../src/index.ts"],"sourcesContent":["export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nexport default function _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nexport default function _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","interface Config<T> {\n  disable?: boolean;\n  prefixes?: string[];\n  test?: (...args: any[]) => boolean;\n  api?: T;\n}\n\ntype LoggerFunction = (...args: any[]) => void;\ntype FormatterFunction = (...args: any[]) => any;\n\nenum Env {\n  NODE = \"node\",\n  BROWSER = \"browser\",\n  UNKNOWN = \"unknown\",\n}\n\nfunction checkEnv() {\n  if (typeof module !== \"undefined\" && typeof module.exports !== \"undefined\") {\n    return Env.NODE;\n  }\n  if (typeof window !== \"undefined\") {\n    return Env.BROWSER;\n  }\n  return Env.UNKNOWN;\n}\n\nfunction shouldDisable() {\n  switch (checkEnv()) {\n    case Env.NODE:\n      return typeof process !== \"undefined\" &&\n        process.env?.NODE_ENV === \"production\";\n    case Env.BROWSER:\n      return ![\"localhost\", \"127.0.0.1\", \"0.0.0.0\"].includes(\n        window.location.hostname,\n      );\n    case Env.UNKNOWN:\n    default:\n      return true;\n  }\n}\n\nfunction rewire(\n  fn: string,\n  formatter?: FormatterFunction,\n  ...args: any[]\n): void {\n  const { api, prefixes } = this.config;\n  args = prefixes.concat(args);\n  if (this.allowed(...args)) {\n    if (typeof formatter === \"function\") {\n      const out = formatter(...args);\n      api[fn](out);\n    } else {\n      api[fn](...args);\n    }\n  }\n}\n\nexport function autowire(customFormatter?: FormatterFunction) {\n  return function (\n    originalFunc: LoggerFunction,\n    { kind, name }: { kind: string; name: string },\n  ): LoggerFunction | void {\n    if (kind === \"method\") {\n      if (!(name in console)) {\n        throw new Error(`Invalid console method: \"${name}\"`);\n      }\n      return function (...args: any[]) {\n        originalFunc.apply(this, args);\n        rewire.apply(this, [name, customFormatter, ...args]);\n      };\n    }\n  };\n}\n\n/**\n * Logger class\n * @class\n */\nexport class Logger<T = Console> {\n  config: Config<T>;\n  api: T;\n  constructor(config?: Config<T>) {\n    config = config || ({} as Config<T>);\n    this.config = Object.freeze(\n      Object.assign(\n        {\n          api: console,\n          disable: false,\n          prefixes: [],\n        },\n        config,\n      ),\n    );\n    this.api = this.config.api as T;\n  }\n  allowed(...args: any[]): boolean {\n    const conf = this.config;\n    if (typeof conf.test === \"function\") {\n      return conf.test.apply(this, args);\n    }\n    return !conf.disable;\n  }\n\n  @autowire()\n  log(): void {}\n  @autowire()\n  warn(): void {}\n  @autowire()\n  debug(): void {}\n  @autowire()\n  error(): void {}\n  @autowire()\n  info(): void {}\n}\n\nexport const logger = new Logger<Console>({\n  disable: shouldDisable(),\n});\n"],"names":["toPrimitive","toPropertyKey","Env","checkEnv","module","exports","NODE","window","BROWSER","UNKNOWN","shouldDisable","_process$env","process","env","NODE_ENV","includes","location","hostname","rewire","fn","formatter","_len","arguments","length","args","Array","_key","api","prefixes","config","concat","allowed","out","autowire","customFormatter","originalFunc","_ref","kind","name","console","Error","_len2","_key2","apply","_dec","_dec2","_dec3","_dec4","_dec5","Logger","constructor","_defineProperty","_initProto","Object","freeze","assign","disable","conf","test","_len3","_key3","log","warn","debug","error","info","_applyDecs","e","logger"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}